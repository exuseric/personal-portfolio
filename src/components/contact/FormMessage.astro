---
import { Icon } from "astro-icon/components";
import Loader from "@/components/loader/Loader.astro";

const { success } = Astro.props;
---

<div class="form_message" data-success="false" data-error="false" hidden>
    <!-- Submitting Message -->
    <div class="form_message__status form_message__status--submitting">
        <Loader />
        <p>Sending your message...</p>
    </div>

    <!-- Success Message -->
    <div class="form_message__status form_message__status--success" hidden>
        <Icon
            name="mdi:check-circle"
            aria-hidden="true"
            focusable="false"
            class="icon"
        />
        <h3>Thank you!</h3>
        <p>Your message has been sent successfully.</p>
    </div>

    <!-- Error Message -->
    <div class="form_message__status form_message__status--error" hidden>
        <Icon
            name="mdi:alert"
            aria-hidden="true"
            focusable="false"
            class="icon"
        />
        <h3>Oh no!</h3>
        <p>Your message wasn't sent. Please try again.</p>
        <p class="text-sm"><em>If this problem persists, please reach out to me through <a href="mailto:wiuhubao6@mozmail.com?subject=Feedback%20From%20Website" target="_blank" class="btn--text">here</a>.</em></p>
    </div>
</div>

<style>
    .form_message {
        position: absolute;
        inset: 0 auto;
        z-index: 2;
        width: 100%;
        height: 100%;

        display: grid;
        place-content: center;
        text-align: center;

        background-color: var(--color-brand-lighter);
        border: 2px solid var(--color-brand-light);
    }

    .form_message[hidden] {
        display: none !important;
    }

    .form_message[data-success="true"] .form_message__status--success {
        display: flex;
    }
    .form_message[data-success="false"] .form_message__status--success {
        display: none;
    }

    .form_message[data-success="true"] .form_message__status--submitting,
    .form_message[data-success="true"] .form_message__status--error {
        display: none;
    }

    .form_message[data-success="false"] .form_message__status--submitting {
        display: flex;
    }

    .form_message[data-error="true"] .form_message__status--error {
        display: flex;
    }
    .form_message[data-error="false"] .form_message__status--error {
        display: none;
    }

    .form_message[data-error="true"] .form_message__status--submitting,
    .form_message[data-error="true"] .form_message__status--success {
        display: none;
    }

    .form_message__status .icon {
        font-size: 42px;
    }

    .form_message__status--success .icon {
        color: oklch(from var(--color-brand) l c 135);
    }

    .form_message__status--error .icon {
        color: oklch(from var(--color-brand) l c 5);
    }
    /* Form status styles */
    .form_message__status {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: var(--space-4);
        border-radius: var(--border-radius);
        text-align: center;
    }

    /* .form_message__status--submitting {
        background-color: var(--color-info-bg, #e8f4fd);
        color: var(--color-info, #0d6efd);
    }

    .form_message__status--success {
        background-color: var(--color-success-bg, #d1e7dd);
        color: var(--color-success, #198754);
    }

    .form_message__status--error {
        background-color: var(--color-error-bg, #f8d7da);
        color: var(--color-error, #dc3545);
    } */
</style>
