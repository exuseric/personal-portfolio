---
import data from "@/data/navigation.json"
const { nav } = data
// import style from "./navigation.module.css";
import Button from "@/components/Button/Button.astro"
---

<nav data-menu data-is-menu-open="false" class="nav__links" aria-label="Main Navigation">
    <ul class:list={["nav__list"]}>
        {
            nav.links.map((link) => (
                <li class:list={["nav__listItem"]}>
                    <Button as="default" href={link.url} label={link.label} variant="link" classList={["nav__link"]} />
                </li>
            ))
        }
    </ul>
</nav>

<style></style>

<script>
    window.addEventListener("ToggleMenu", (event) => {
        const menu = document.querySelector("[data-menu]") as HTMLElement
        if (!menu) return
        const { detail } = event as CustomEvent
        console.log(detail)

        menu.dataset.isMenuOpen = String(detail.state)
    })
</script>
