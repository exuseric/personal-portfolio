@layer framework, global, elements, components, utilities, animations;

@import "./reset.css" layer(framework);
@import "./tokens.css" layer(global);
@import "./theme.css" layer(components);
@import "./form-elements.css";
@import "./animations.css";
@import "./button.css" layer(components);


@layer utilities {
    .flex-between {
        display: flex;
        flex-flow: row wrap;
        align-items: center;
        justify-content: space-between;
    }

    .flex-start {
        display: flex;
        flex-flow: row wrap;
        align-items: center;
        justify-content: flex-start;
        gap: var(--size-2);
    }

    .section-heading {
        text-transform: uppercase;
    }
}

@layer global {
    :root {
        interpolate-size: allow-keywords;

        --shadow-color: 0deg 0% 0%;
        --shadow-strength: 10%;
        --shadow-sm: 0 2px 6px hsl(var(--shadow-color) / calc(var(--shadow-strength)));
        --shadow-md: 0 4px 8px hsl(var(--shadow-color) / calc(var(--shadow-strength)));

        /* Layout */
        --content-width: min(100% - 2rem, 50rem);
        /*800px*/
        --site-width: min(100% - 2rem, 75rem);
        /*1200px*/
    }

    html,
    body {
        font-family: var(--font-family-base), sans-serif;
        color: var(--text-neutral-default);
        background-color: var(--surface-neutral-default);
        line-height: var(--lh-body-text);
        font-weight: 400;
        scroll-behavior: smooth;
        interpolate-size: allow-keywords;
        -webkit-font-smoothing: antialiased;
    }

    body {
        position: relative;
        isolation: isolate;
        z-index: 1;
    }
}

@layer elements {

    /* Typography */
    h1,
    h2,
    h3,
    h4,
    h5 {
        margin-bottom: var(--size-4);
        font-weight: 400;
        orphans: 1;
    }

    h1,
    .h1 {
        line-height: var(--lh-hero);
        font-size: var(--font-size-display);
        font-weight: 300;
        max-width: 15ch;
    }

    h2,
    .h2 {
        font-size: var(--font-size-4xl);
        line-height: var(--lh-heading-large);
    }

    h3,
    .h3 {
        font-size: var(--font-size-xl);
        line-height: var(--lh-heading-medium);
    }

    h4,
    .h4 {
        font-size: var(--font-size-lg);
    }

    h5,
    .h5 {
        font-size: var(--font-size-md);
    }

    h2,
    .h2,
    h3,
    .h3,
    h4,
    .h4,
    h5,
    .h5 {
        max-width: 40ch;
    }

    p,
    ul,
    ol {
        margin-bottom: var(--size-4);
        font-size: var(--font-size-md);
    }

    small {
        font-size: var(--font-size-sm);
        color: var(--text-neutral-subtle);
    }

    p {
        max-width: 65ch;
        margin: 0;
    }
}

@layer components {
    .container {
        --padding-inline: 1rem;
        --content-max-width: var(--site-width);
        --breakout-max-width: calc(var(--content-max-width) * 0.2);
        --breakout-size: calc((var(--breakout-max-width) - var(--content-max-width)) / 2);

        display: grid;
        grid-template-columns:
            [full-width-start] minmax(var(--padding-inline), 1fr) [breakout-start] minmax(0, var(--breakout-size)) [content-start] min(100% - (var(--padding-inline) * 2),
                var(--content-max-width)) [content-end] minmax(0, var(--breakout-size)) [breakout-end] minmax(var(--padding-inline),
                1fr) [full-width-end];
        width: 100%;
    }

    .container[data-container-md] {
        --content-max-width: var(--content-width);
    }

    .container> :not(.breakout, .full-width) {
        grid-column: content;
    }

    .container>.breakout {
        grid-column: breakout;
    }

    .container>.full-width {
        grid-column: full-width;
    }

    .page-wrapper {
        display: flex;
        flex-direction: column;

        min-height: 100vh;
        row-gap: var(--size-2);
    }

    [data-parent-container] {
        padding-block: var(--size-12);
    }

    [data-parent-container] h2 {
        margin-bottom: var(--size-4);
    }

    [data-content-wrapper] {
        width: var(--content-width);
        margin-inline: auto;
        display: flex;
        flex-direction: column;
        gap: var(--size-4);
        align-items: flex-start;
    }

    [data-offscreen] {
        content-visibility: auto;
        contain-intrinsic-size: auto 31.25rem;
    }
}

@layer components {
    .skeleton {
        width: 100%;
        height: 1em;
        background-color: var(--surface-neutral-subtle);
        position: relative;
        overflow: hidden;
    }

    .skeleton::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        transform: translateX(-100%);
        background: linear-gradient(90deg,
                transparent,
                var(--color-neutral-200),
                transparent);
        animation: skeleton-loading 1.5s infinite;
    }

    @keyframes skeleton-loading {
        100% {
            transform: translateX(100%);
        }
    }

    .skeleton-text {
        display: flex;
        flex-direction: column;
        gap: var(--size-2);
    }

    .skeleton-text .skeleton:nth-child(3) {
        width: 75%;
    }
}

@layer animations {

    ::view-transition-old(root) {
        animation: 90ms cubic-bezier(0.4, 0, 1, 1) both fade-out,
            300ms cubic-bezier(0.4, 0, 0.2, 1) both slide-to-left;
    }

    ::view-transition-new(root) {
        animation: 210ms cubic-bezier(0, 0, 0.2, 1) 90ms both fade-in,
            300ms cubic-bezier(0.4, 0, 0.2, 1) both slide-from-right;
    }
}

@layer utility {

    /*=================================*/
    /* Utility Theme Classes           */
    /*=================================*/
    /*  Neutral  */
    .surface-neutral {
        background-color: var(--surface-neutral-default);
        color: var(--text-neutral-default);
        border-color: var(--surface-neutral-default);
    }

    .surface-neutral-subtle {
        background-color: var(--surface-neutral-subtle);
        color: var(--text-neutral-default);
        border-color: var(--surface-neutral-subtle);
    }

    /*  Brand */
    .surface-brand {
        background-color: var(--surface-brand-default);
        color: var(--text-on-brand-color);
        border-color: var(--surface-brand-default);
    }

    .surface-brand-subtle {
        background-color: var(--surface-brand-subtle);
        color: var(--text-on-subtle-color);
        border-color: var(--surface-brand-subtle);
    }

    /*  Secondary  */
    .surface-secondary {
        background-color: var(--surface-secondary-default);
        color: var(--text-on-secondary-color);
        border-color: var(--surface-secondary-default);
    }

    .surface-secondary-subtle {
        background-color: var(--surface-secondary-subtle);
        color: var(--text-secondary-default);
        border-color: var(--surface-secondary-subtle);
    }

    /*  Accent  */
    .surface-accent {
        background-color: var(--surface-accent-default);
        color: var(--text-on-accent-color);
        border-color: var(--surface-accent-default);
    }

    .surface-accent-subtle {
        background-color: var(--surface-accent-subtle);
        color: var(--text-accent-default);
        border-color: var(--surface-accent-subtle);
    }

    /*  Success */
    .surface-success {
        background-color: var(--surface-success-default);
        color: var(--text-on-success-color);
        border-color: var(--surface-success-default);
    }

    .surface-success-subtle {
        background-color: var(--surface-success-subtle);
        color: var(--text-success-default);
        border-color: var(--surface-success-subtle);
    }

    /*  Warning  */
    .surface-warning {
        background-color: var(--surface-warning-default);
        color: var(--text-on-warning-color);
        border-color: var(--surface-warning-default);
    }

    .surface-warning-subtle {
        background-color: var(--surface-warning-subtle);
        color: var(--text-warning-default);
        border-color: var(--surface-warning-subtle);
    }

    /*  Error  */
    .surface-error {
        background-color: var(--surface-error-default);
        color: var(--text-on-error-color);
        border-color: var(--surface-error-default);
    }

    .surface-error-subtle {
        background-color: var(--surface-error-subtle);
        color: var(--text-error-default);
        border-color: var(--surface-error-subtle);
    }

    /*  Info  */
    .surface-info {
        background-color: var(--surface-info-default);
        color: var(--text-on-info-color);
        border-color: var(--surface-info-default);
    }

    .surface-info-subtle {
        background-color: var(--surface-info-subtle);
        color: var(--text-info-default);
        border-color: var(--surface-info-subtle);
    }

    /* Disabled */
    .surface-disabled {
        background-color: var(--surface-neutral-subtle);
        color: var(--text-neutral-subtle);
        border-color: var(--surface-neutral-subtle);
        cursor: not-allowed;
        opacity: 0.6;
        pointer-events: none;
    }

    /*=================================*/
    /* Outline / Ghost Surfaces                */
    /*=================================*/
    /* Neutral */
    .outline-neutral {
        background-color: transparent;
        color: var(--text-neutral-default);
        border: 0.12rem solid var(--surface-neutral-default);
    }

    .outline-neutral:hover {
        background-color: var(--surface-neutral-hover);
        color: var(--text-neutral-default);
        border-color: var(--surface-neutral-hover);
    }

    /* Brand */
    .outline-brand {
        background-color: transparent;
        color: var(--text-brand-default);
        border: 0.12rem solid var(--surface-brand-default);
    }

    .outline-brand:hover {
        background-color: var(--surface-brand-default);
        color: var(--text-on-brand-color);
        border-color: var(--surface-brand-default);
    }

    /* Secondary */
    .outline-secondary {
        background-color: transparent;
        color: var(--text-secondary-default);
        border: 0.12rem solid var(--surface-secondary-default);
    }

    .outline-secondary:hover {
        background-color: var(--surface-secondary-default);
        color: var(--text-on-secondary-color);
        border-color: var(--surface-secondary-default);
    }

    /* Accent */
    .outline-accent {
        background-color: transparent;
        color: var(--text-accent-default);
        border: 0.12rem solid var(--surface-accent-default);
    }

    .outline-accent:hover {
        background-color: var(--surface-accent-default);
        color: var(--text-on-accent-color);
        border-color: var(--surface-accent-default);
    }

    /* Success */
    .outline-success {
        background-color: transparent;
        color: var(--text-success-default);
        border: 0.12rem solid var(--surface-success-default);
    }

    .outline-success:hover {
        background-color: var(--surface-success-default);
        color: var(--text-on-success-color);
        border-color: var(--surface-success-default);
    }

    /* Warning */
    .outline-warning {
        background-color: transparent;
        color: var(--text-warning-default);
        border: 0.12rem solid var(--surface-warning-default);
    }

    .outline-warning:hover {
        background-color: var(--surface-warning-default);
        color: var(--text-on-warning-color);
        border-color: var(--surface-warning-default);
    }

    /* Error */
    .outline-error {
        background-color: transparent;
        color: var(--text-error-default);
        border: 0.12rem solid var(--surface-error-default);
    }

    .outline-error:hover {
        background-color: var(--surface-error-default);
        color: var(--text-on-error-color);
        border-color: var(--surface-error-default);
    }

    /* Info */
    .outline-info {
        background-color: transparent;
        color: var(--text-info-default);
        border: 0.12rem solid var(--surface-info-default);
    }

    .outline-info:hover {
        background-color: var(--surface-info-default);
        color: var(--text-on-info-color);
        border-color: var(--surface-info-default);
    }

    /* Disabled */
    .outline-disabled {
        background-color: transparent;
        color: var(--text-neutral-subtle);
        border: 0.12rem solid var(--surface-neutral-subtle);
        cursor: not-allowed;
        opacity: 0.6;
        pointer-events: none;
    }

    /*=================================*/
    /* Subtle Outline / Ghost Surfaces         */
    /*=================================*/
    /* Neutral */
    .outline-neutral-subtle {
        background-color: transparent;
        color: var(--text-neutral-subtle);
        border: 0.12rem solid var(--surface-neutral-subtle);
    }

    .outline-neutral-subtle:hover {
        background-color: var(--surface-neutral-subtle);
        color: var(--text-neutral-default);
        border-color: var(--surface-neutral-subtle);
    }

    /* Brand */
    .outline-brand-subtle {
        background-color: transparent;
        color: var(--text-brand-subtle);
        border: 0.12rem solid var(--surface-brand-subtle);
    }

    .outline-brand-subtle:hover {
        background-color: var(--surface-brand-subtle);
        color: var(--text-on-brand-color);
        border-color: var(--surface-brand-subtle);
    }

    /* Secondary */
    .outline-secondary-subtle {
        background-color: transparent;
        color: var(--text-secondary-subtle);
        border: 0.12rem solid var(--surface-secondary-subtle);
    }

    .outline-secondary-subtle:hover {
        background-color: var(--surface-secondary-subtle);
        color: var(--text-on-secondary-color);
        border-color: var(--surface-secondary-subtle);
    }

    /* Accent */
    .outline-accent-subtle {
        background-color: transparent;
        color: var(--text-accent-subtle);
        border: 0.12rem solid var(--surface-accent-subtle);
    }

    .outline-accent-subtle:hover {
        background-color: var(--surface-accent-subtle);
        color: var(--text-on-accent-color);
        border-color: var(--surface-accent-subtle);
    }

    /* Success */
    .outline-success-subtle {
        background-color: transparent;
        color: var(--text-success-subtle);
        border: 0.12rem solid var(--surface-success-subtle);
    }

    .outline-success-subtle:hover {
        background-color: var(--surface-success-subtle);
        color: var(--text-on-success-color);
        border-color: var(--surface-success-subtle);
    }

    /* Warning */
    .outline-warning-subtle {
        background-color: transparent;
        color: var(--text-warning-subtle);
        border: 0.12rem solid var(--surface-warning-subtle);
    }

    .outline-warning-subtle:hover {
        background-color: var(--surface-warning-subtle);
        color: var(--text-on-warning-color);
        border-color: var(--surface-warning-subtle);
    }

    /* Error */
    .outline-error-subtle {
        background-color: transparent;
        color: var(--text-error-subtle);
        border: 0.12rem solid var(--surface-error-subtle);
    }

    .outline-error-subtle:hover {
        background-color: var(--surface-error-subtle);
        color: var(--text-on-error-color);
        border-color: var(--surface-error-subtle);
    }

    /* Info */
    .outline-info-subtle {
        background-color: transparent;
        color: var(--text-info-subtle);
        border: 0.12rem solid var(--surface-info-subtle);
    }

    .outline-info-subtle:hover {
        background-color: var(--surface-info-subtle);
        color: var(--text-on-info-color);
        border-color: var(--surface-info-subtle);
    }

    /* Disabled */
    .outline-disabled-subtle {
        background-color: transparent;
        color: var(--text-neutral-subtle);
        border: 0.12rem solid var(--surface-neutral-subtle);
        cursor: not-allowed;
        opacity: 0.6;
        pointer-events: none;
    }

    /*=================================*/
    /* Text Utilities (no background)  */
    /*=================================*/
    /* Brand */
    .text-brand {
        color: var(--text-brand-default);
    }

    .text-brand-subtle {
        color: var(--text-brand-subtle);
    }

    .text-on-brand-color {
        color: var(--text-on-brand-color);
    }

    /* Secondary */
    .text-secondary {
        color: var(--text-secondary-default);
    }

    .text-secondary-subtle {
        color: var(--text-secondary-subtle);
    }

    .text-on-secondary-color {
        color: var(--text-on-secondary-color);
    }

    /* Success */
    .text-success {
        color: var(--text-success-default);
    }

    .text-success-subtle {
        color: var(--text-success-subtle);
    }

    .text-on-success-color {
        color: var(--text-on-success-color);
    }

    /* Warning */
    .text-warning {
        color: var(--text-warning-default);
    }

    .text-warning-subtle {
        color: var(--text-warning-subtle);
    }

    .text-on-warning-color {
        color: var(--text-on-warning-color);
    }

    /* Error */
    .text-error {
        color: var(--text-error-default);
    }

    .text-error-subtle {
        color: var(--text-error-subtle);
    }

    .text-on-error-color {
        color: var(--text-on-error-color);
    }

    /* Info */
    .text-info {
        color: var(--text-info-default);
    }

    .text-info-subtle {
        color: var(--text-info-subtle);
    }

    .text-on-info-color {
        color: var(--text-on-info-color);
    }

    /* Neutral */
    .text-neutral {
        color: var(--text-neutral-default);
    }

    .text-neutral-subtle {
        color: var(--text-neutral-subtle);
    }

    .text-on-neutral-color {
        color: var(--text-on-neutral-color);
    }

    /* Disabled */
    .text-disabled {
        color: var(--text-neutral-subtle);
        opacity: 0.6;
        pointer-events: none;
    }

    /*=================================*/
    /* State Variations                */
    /*=================================*/
    .is-disabled {
        opacity: 0.6;
        pointer-events: none;
    }

    .is-active {
        outline: 2px solid var(--surface-brand-default);
        outline-offset: 2px;
    }

    .is-invalid {
        border-color: var(--surface-error-default);
    }

    .is-valid {
        border-color: var(--surface-success-default);
    }
}